---
import type { HTMLAttributes } from "astro/types";
import { getLangFromUrl } from "../../i18n/utils";

type Props = HTMLAttributes<"a">;

const props = Astro.props;

const lang = getLangFromUrl(Astro.url);

const currentUrl =
    lang.code !== "en" ? Astro.url.pathname.replace(`/${lang.code}`, "") : Astro.url.pathname;
const linkHref = lang.code !== "en" ? `/${lang.code}${props.href}` : props.href;
const activeLinkClass = currentUrl === props.href ? "bg-gray-700" : "";
---

<a
    class=`${activeLinkClass} outline-none outline outline-[3px] relative outline-offset-2 outline-transparent transition-all focus-visible:outline-blue-500 flex items-center justify-center rounded-md border border-transparent px-2 py-1 font-bold duration-150 active:bg-gray-700`
    href={linkHref}><slot /></a
>
