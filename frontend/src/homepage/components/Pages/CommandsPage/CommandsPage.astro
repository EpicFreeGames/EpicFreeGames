---
import Layout from "../../Layout/Layout.astro";
import { getLangFromUrl, useTranslations } from "../../../i18n/utils";
import Code from "../../Code.astro";
import Markdown from "../../Markdown.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang.code);

const commandsForEveryone = [
    {
        command: "/free",
        description: t("cmd_desc_free"),
    },
    {
        command: "/up",
        description: t("cmd_desc_up"),
    },
    {
        command: "/help",
        description: t("cmd_desc_help"),
    },
    {
        command: "/invite",
        description: t("cmd_desc_invite"),
    },
    {
        command: "/vote",
        description: t("cmd_desc_vote"),
    },
];

const serverAdminCommands = [
    {
        command: "/set channel",
        description: t("cmd_desc_set_channel"),
    },
    {
        command: "/set thread",
        description: t("cmd_desc_set_thread"),
    },
    {
        command: "/set role",
        description: t("cmd_desc_set_role"),
    },
    {
        command: "/set language",
        description: t("cmd_desc_set_language"),
    },
    {
        command: "/set currency",
        description: t("cmd_desc_set_currency"),
    },
    {
        command: "/remove channel",
        description: t("cmd_desc_remove_channel"),
    },
    {
        command: "/remove role",
        description: t("cmd_desc_remove_role"),
    },
    {
        command: "/settings",
        description: t("cmd_desc_settings"),
    },
    {
        command: "/test",
        description: t("cmd_desc_test"),
    },
];
---

<Layout title={t("commands")}>
    <div class="flex flex-col gap-2">
        <h1 class="pb-4 text-2xl font-bold">{t("commands")}</h1>

        <div class="flex flex-col gap-6">
            <table class="mt-2">
                <thead>
                    <tr>
                        <th class="text-left">{t("command")}</th>
                        <th class="text-left">{t("description")}</th>
                    </tr>
                </thead>
                <tbody>
                    {
                        commandsForEveryone.map((c) => (
                            <tr>
                                <td class="py-2 pr-6 text-left">
                                    <Code>{c.command}</Code>
                                </td>
                                <td>{c.description}</td>
                            </tr>
                        ))
                    }
                </tbody>
            </table>

            <div class="flex flex-col gap-3">
                <div class="text-sm text-gray-400 sm:text-base">
                    <Markdown stuff={t("commands_only_manage_server")} />
                </div>

                <table>
                    <thead>
                        <tr>
                            <th class="text-left">{t("command")}</th>
                            <th class="text-left">{t("description")}</th>
                        </tr>
                    </thead>
                    <tbody>
                        {
                            serverAdminCommands.map((c) => (
                                <tr>
                                    <td class="py-2 pr-6 text-left">
                                        <Code>{c.command}</Code>
                                    </td>
                                    <td>{c.description}</td>
                                </tr>
                            ))
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</Layout>
